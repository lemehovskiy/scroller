/*!
 * 
 *   @lemehovskiy/scroller v0.0.1
 *   https://github.com/lemehovskiy/scroller
 *   Copyright (c) lemehovskiy (https://github.com/lemehovskiy) and project contributors.
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Scroller=t():e.Scroller=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>h});const r=function(){return document.body.scrollTop||document.documentElement.scrollTop};const n=function(){return window.innerHeight};const o=function(){return document.body.clientHeight};const s=function(e,t){var r=e.replace(/\s/g,""),n=parseInt(r,10);return/px$/.test(r)?n:/%|vh$/.test(r)?t/100*n:n};const i=function(e,t){var r=[];return e.forEach((function(e){var n=0;"string"==typeof e?n=s(e,t):"number"==typeof e&&(n=e),r.push(n)})),r};const f=function(e,t,r,n,o,s,f){var c=r+t,l=c,u=c+n,g=i([e.start,e.end],o),a=g[0],p=g[1],d=0,O=0;if(f){var b=function(e,t,r){var n=0,o=e.top;t>o&&(n=o-t);var s=0,i=r-e.bottom;return t>i&&(s=t-i),{startOffset:n,endOffset:s}}({top:l,bottom:u},o,s);d=b.startOffset,O=b.endOffset}return{elementTriggerOffsetTop:l,elementTriggerOffsetBottom:u,scrollTriggerOffsetStart:a+d,scrollTriggerOffsetEnd:p+O}};const c=function(e,t,r,n){return e+t+r-n};const l=function(e,t,r,n,o,s,i){var l=f(s,e,n,o,t,r,i),u=l.elementTriggerOffsetTop,g=l.elementTriggerOffsetBottom,a=l.scrollTriggerOffsetStart,p=l.scrollTriggerOffsetEnd;return{elementTriggerOffsetTop:u,elementTriggerOffsetBottom:g,scrollTriggerOffsetStart:a,scrollTriggerOffsetEnd:p,progressLength:c(o,t,a,p)}};const u=function(e,t,r,n,o){var s=(e+t+r-n)/o;return s>1&&(s=1),s<0&&(s=0),Math.round(1e4*s)/1e4};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(){function e(){a(this,e),O(this,"handlers",[])}return d(e,[{key:"on",value:function(e){this.handlers.push(e)}},{key:"off",value:function(e){this.handlers=this.handlers.filter((function(t){return t!==e}))}},{key:"trigger",value:function(e){this.handlers.slice(0).forEach((function(t){return t(e)}))}},{key:"expose",value:function(){return this}}]),e}();const h=function(){function e(t,s){var i=this;a(this,e),O(this,"onProgress",new b),O(this,"init",(function(){i.subscribeLoad()})),O(this,"onLoad",(function(){i.onResize(),i.onScroll(),i.subscribeResize(),i.subscribeScroll()})),O(this,"onResize",(function(){var e=r(),t=n(),s=o(),f=i.element.getBoundingClientRect(),c=f.y,u=f.height,g=l(e,t,s,c,u,i.options.scrollTriggerOffset,i.options.autoAdjustScrollOffset),a=g.elementTriggerOffsetTop,p=g.elementTriggerOffsetBottom,d=g.scrollTriggerOffsetStart,O=g.scrollTriggerOffsetEnd,b=g.progressLength;i.elementTriggerOffsetTop=a,i.elementTriggerOffsetBottom=p,i.scrollTriggerOffsetPxStart=d,i.scrollTriggerOffsetPxEnd=O,i.progressLength=b})),O(this,"onScroll",(function(){var e=r(),t=n(),o=u(e,t,i.scrollTriggerOffsetPxStart,i.elementTriggerOffsetTop,i.progressLength);i.progress=o,i.onProgress.trigger(o)})),O(this,"subscribeLoad",(function(){window.addEventListener("load",i.onLoad)})),O(this,"subscribeScroll",(function(){window.addEventListener("scroll",i.onScroll)})),O(this,"subscribeResize",(function(){window.addEventListener("resize",i.onResize)})),this.element=t,this.options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({scrollTriggerOffset:{start:0,end:0},autoAdjustScrollOffset:!1},s),this.init()}return d(e,[{key:"progressChanged",get:function(){return this.onProgress.expose()}}]),e}();return t})()}));
//# sourceMappingURL=index.js.map